import{q as x,W as C,j as t,a as e,F as u,d as F}from"./app-2d7fc0bf.js";import{T as o,I as m}from"./TextInput-949b3ef5.js";import{I as d}from"./InputLabel-51da583c.js";import{P as q}from"./PrimaryButton-653042de.js";import{$ as T}from"./transition-0fbe9c79.js";function w({chosenUser:g,mustVerifyEmail:p,status:h,className:N=""}){const c=x().props.auth.user,s=g??c,i=s.id===c.id,{data:r,setData:n,patch:v,errors:l,processing:b,recentlySuccessful:f}=C({email:s.email,firstName:s.firstName,middleName:s.middleName??"",lastName:s.lastName,ubtebNo:s.ubtebNo,phone:s.phone,occupation:s.occupation,position:s.position??"",organisation:s.organisation??"",businessName:s.businessName??"",businessType:s.businessType??"",country:s.country,district:s.district}),y=a=>{a.preventDefault(),v(route("profile.update"),{onSuccess:()=>{$.notify("updated successfully","success")}})};return t("section",{className:N,children:[t("header",{children:[t("h2",{className:"text-lg font-medium text-gray-900",children:["Profile Information",e("span",{children:!i&&t(u,{children:[" for ",s.firstName+" "+(s.middleName??"")+" "+s.lastName]})})]}),i&&e("p",{className:"mt-1 text-sm text-gray-600",children:"Update your account's profile information and email address."})]}),t("form",{onSubmit:y,className:"mt-6 space-y-6",children:[t("div",{children:[e(d,{htmlFor:"name",value:"Name"}),t("div",{className:"grid grid-cols-3 gap-4",children:[e(o,{disabled:!i,name:"firstName",value:r.firstName,placeholder:"First",className:"mt-1",isFocused:!0,onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,name:"middleName",value:r.middleName,placeholder:"Middle",className:"mt-1",isFocused:!0,onChange:a=>n(a.target.name,a.target.value)}),e(o,{disabled:!i,name:"lastName",value:r.lastName,placeholder:"Last",className:"mt-1",isFocused:!0,onChange:a=>n(a.target.name,a.target.value),required:!0})]}),e(m,{message:l.firstName,className:"mt-2"}),e(m,{message:l.middleName,className:"mt-2"}),e(m,{message:l.lastName,className:"mt-2"})]}),t("div",{className:"mt-4",children:[t("div",{className:"grid grid-cols-3 gap-x-4",children:[e(d,{htmlFor:"email",value:"Email"}),e(d,{htmlFor:"phone",value:"Phone"}),e(d,{htmlFor:"ubtebNo",value:"UBTEB No."}),e(o,{disabled:!i,id:"email",type:"email",name:"email",placeholder:"e.g gw@gmail.com",value:r.email,className:"mt-1",autoComplete:"email",onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,id:"phone",type:"tel",name:"phone",placeholder:"e.g 256700000000",value:r.phone,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,id:"ubtebNo",type:"text",name:"ubtebNo",value:r.ubtebNo,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0})]}),e(m,{message:l.email,className:"mt-2"}),e(m,{message:l.phone,className:"mt-2"}),e(m,{message:l.ubtebNo,className:"mt-2"})]}),t("div",{className:"mt-4",children:[t("div",{children:[e(d,{htmlFor:"occupation",value:"Occupation"}),t("select",{disabled:!i,id:"occupation",name:"occupation",value:r.occupation,className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 shadow-sm mt-1 block w-full",onChange:a=>n(a.target.name,a.target.value),required:!0,children:[e("option",{value:"employed",children:"Employed"}),e("option",{value:"selfEmployed",children:"Self-Employed"}),e("option",{value:"unEmployed",children:"Unemployed"})]})]}),e(m,{message:l.occupation,className:"mt-2"})]}),r.occupation==="employed"&&t("div",{className:"mt-4",children:[t("div",{className:"grid grid-cols-2 gap-x-4",children:[e(d,{htmlFor:"position",value:"Position/Job Title"}),e(d,{htmlFor:"organisation",value:"Organisation/Company/Inst."}),e(o,{disabled:!i,id:"position",type:"text",name:"position",value:r.position,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,id:"organisation",type:"text",name:"organisation",value:r.organisation,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0})]}),e(m,{message:l.position,className:"mt-2"}),e(m,{message:l.organisation,className:"mt-2"})]}),r.occupation==="selfEmployed"&&t("div",{className:"mt-4",children:[t("div",{className:"grid grid-cols-2 gap-x-4",children:[e(d,{htmlFor:"businessName",value:"Name of Business"}),e(d,{htmlFor:"businessType",value:"Type of Business"}),e(o,{disabled:!i,id:"businessName",type:"text",name:"businessName",value:r.businessName,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,id:"businessType",type:"text",name:"businessType",value:r.businessType,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0})]}),e(m,{message:l.businessName,className:"mt-2"}),e(m,{message:l.businessType,className:"mt-2"})]}),t("div",{className:"mt-4",children:[e("p",{className:"font-bold",children:"Location/Address"}),t("div",{className:"grid grid-cols-2 gap-x-4",children:[e(d,{htmlFor:"country",value:"Country"}),e(d,{htmlFor:"district",value:"District"}),e(o,{disabled:!i,id:"country",type:"text",name:"country",value:r.country,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0}),e(o,{disabled:!i,id:"district",type:"text",name:"district",value:r.district,className:"mt-1",onChange:a=>n(a.target.name,a.target.value),required:!0})]}),e(m,{message:l.country,className:"mt-2"}),e(m,{message:l.district,className:"mt-2"})]}),i&&t(u,{children:[p&&s.email_verified_at===null&&t("div",{children:[t("p",{className:"text-sm mt-2 text-gray-800",children:["Your email address is unverified.",e(F,{href:route("verification.send"),method:"post",as:"button",className:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Click here to re-send the verification email."})]}),h==="verification-link-sent"&&e("div",{className:"mt-2 font-medium text-sm text-green-600",children:"A new verification link has been sent to your email address."})]}),t("div",{className:"flex items-center gap-4",children:[e(q,{disabled:b,children:"Save"}),e(T,{show:f,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})]})]})}export{w as default};
